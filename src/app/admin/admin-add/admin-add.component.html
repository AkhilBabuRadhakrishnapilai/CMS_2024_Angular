<div class="container">
    <h3>Add User</h3>
    <hr>
    <!-- template driven form -->
    <form name="formUser" #form="ngForm" autocomplete="off" novalidate (ngSubmit)="onSubmit(form)">
        <!-- Hidden employee id -->
        <!-- <div class="form-group">
            <input type="hidden" readonly name="id" [(ngModel)]="service.userEditData.emp_id">
        </div> -->
        <!-- First Name -->
        <div class="form-group">
            <label for="name">First Name</label>
            <input name="first_name" #first_name="ngModel" class="form-control"
                [(ngModel)]="service.userEditData.first_name" placeholder="Enter the first name......" minlength="3"
                max="20" pattern="^(?!\s)(?!.*\s)[A-Za-z\s]{3,20}$" required
                [ngClass]="{'is-invalid':first_name.touched&&first_name.invalid}" autocomplete="off">
            <!-- validation messages -->
            <div class="validation-error" *ngIf="first_name.touched && first_name.invalid" style="color:red">
                <div *ngIf="first_name.errors?.['required']">First Name is invalid or required!</div>
                <div *ngIf="first_name.errors?.['minlength']">First Name must be at least 3 characters long
                </div>
                <div *ngIf="first_name.errors?.['maxlength']">First Name not more than 20 character long</div>
                <div *ngIf="first_name.errors?.['pattern']">First Name cannot start with space and Enter your
                    First Name</div>
            </div>
        </div>
        <br>
        <!-- last name -->
        <div class="form-group">
            <label for="name">Last Name</label>
            <input name="last_name" #last_name="ngModel" class="form-control"
                [(ngModel)]="service.userEditData.last_name" placeholder="Enter the last name......" minlength="3"
                max="20" pattern="^(?!\s)(?!.*\s)[A-Za-z\s]{3,20}$" required
                [ngClass]="{'is-invalid':last_name.touched && last_name.invalid}" autocomplete="off">

            <!-- validation messages -->
            <div class="validation-error" *ngIf="last_name.touched && last_name.invalid" style="color: red;">
                <div *ngIf="last_name.errors?.['required']">Last Name is invalid or required!</div>
                <div *ngIf="last_name.errors?.['minlength']">Last Name must be at least 3 characters long
                </div>
                <div *ngIf="last_name.errors?.['maxlength']">Last Name not more than 25 character long</div>
                <div *ngIf="last_name.errors?.['pattern']">Last Name cannot start with space and Enter your
                    Last Name</div>
            </div>
        </div>
        <br>
        <!-- gender -->
        <div class="form-group">
            <label>Gender</label>
            <select name="gender" id="gender" #gender_id="ngModel" class="form-control" required
                [(ngModel)]="service.userEditData.gender_id">
                <option value="0" disabled>Choose Gender</option>
                <option *ngFor="let genz of service.genders" value="{{genz.id}}">{{genz.gender}}</option>
            </select>
            <div class="validation-error" *ngIf="gender_id.touched && gender_id.invalid" style="color: red;">
                <div *ngIf="gender_id.errors?.['required']">
                    Role required!
                </div>
            </div>
        </div>
        <br>
        <!-- qualification -->
        <div class="form-group">
            <label>Qualification</label>
            <select name="qualification" id="qualification" #qualification_id="ngModel" class="form-control" required
                [(ngModel)]="service.userEditData.qualification_id">
                <option value="0" disabled>Choose Qualification</option>
                <option *ngFor="let qualification of service.qualifications" value="{{qualification.id}}">
                    {{qualification.qualification}}</option>
            </select>
            <div class="validation-error" *ngIf="qualification_id.touched && qualification_id.invalid"
                style="color: red;">
                <div *ngIf="qualification_id.errors?.['required']">
                    Qualification required!
                </div>
            </div>
        </div>
        <br>
        <!-- email -->
        <div class="form-group">
            <label for="email">Email</label>
            <input name="email" #email="ngModel" class="form-control" [(ngModel)]="service.userEditData.email"
                placeholder="Enter the email address........" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
                required [ngClass]="{'is-invalid':email.touched && email.invalid}" autocomplete="off">

            <!-- validation messages -->
            <div class="validation-error" *ngIf="email.touched&&email.invalid" style="color: red;">
                <div *ngIf="email.errors?.['required']">Email is invalid or required!</div>
                <div *ngIf="email.errors?.['pattern']">In valid Email format</div>
            </div>
        </div>
        <br>
        <!-- password -->
        <!-- <div class="form-group">
            <label for="password">Password</label>
            <input name="password" #password="ngModel" class="form-control"
                [(ngModel)]="service.userEditData.password">
            <div class="validation-error" *ngIf="email.touched&&email.invalid">
                <div>Password required</div>
            </div>
        </div>
        <br> -->
        <!-- Address -->
        <div class="form-group">
            <label for="address">Address</label>
            <input name="address" #address="ngModel" class="form-control" [(ngModel)]="service.userEditData.address"
                placeholder="Enter the Address..." minlength="3" maxlength="200" pattern="^[^\s].*" required
                [ngClass]="{'is-invalid':address.touched && address.invalid}" autocomplete="off">

            <!-- validation -->
            <div class="validation-error" *ngIf="address.touched&&address.invalid" style="color: red;">
                <div *ngIf="address.errors?.['required']"> Address is invalid or required!</div>
                <div *ngIf="address.errors?.['minlength']"> Address must contain atleast 3 character long
                </div>
                <div *ngIf="address.errors?.['maxlength']"> Address not more than 100 character long</div>
                <div *ngIf="address.errors?.['pattern']"> Address not start with space</div>
            </div>
        </div>
        <br>
        <!-- Phone number -->
        <div class="form-group">
            <label for="contact_number">Contact Number</label>
            <input name="contact_number" #contact_number="ngModel" class="form-control"
                [(ngModel)]="service.userEditData.contact_number" placeholder="Enter the Contact Number...."
                minlength="10" maxlength="10" pattern="^[6-9]\d{9}$" required
                [ngClass]="{'is-invalid':contact_number.touched && contact_number.invalid}" autocomplete="off">
            <!-- validation -->
            <div class="validation-error" *ngIf="contact_number.touched && contact_number.invalid" style="color: red;">
                <div *ngIf="contact_number.errors?.['required']">PhoneNumber is invalid or required! </div>
                <div *ngIf="contact_number.errors?.['minlength']">PhoneNumber must contain 10 digits</div>
                <div *ngIf="contact_number.errors?.['maxlength']">PhoneNumber not more than 10 digits</div>
                <div *ngIf="contact_number.errors?.['pattern']">PhoneNumber starts with 6,7,8 and 9</div>
            </div>
        </div>
        <br>
        <!-- Dob -->
        <div class="form-group">
            <label for="dob">Date of Birth</label>
            <input type="date" name="dob" #dob="ngModel" class="form-control" [(ngModel)]="service.userEditData.dob"
                required [ngClass]="{'is-invalid':dob.touched && dob.invalid}" autocomplete="off" [min]="minDate"
                [max]="maxDate">
            <div class="validation-error" *ngIf="dob.touched&&dob.invalid" style="color: red;">
                <div *ngIf="dob.errors?.['required']">
                    Dob is invalid or required!
                </div>
            </div>
        </div>
        <br>
        <!-- date of joining -->
        <div class="form-group">
            <label for="dob">Date of Joining</label>
            <input type="date" name="date_of_joining" #date_of_joining="ngModel" class="form-control"
                [(ngModel)]="service.userEditData.date_of_joining"
                [ngClass]="{'is-invalid':date_of_joining.touched && date_of_joining.invalid}" [max]="currentDate">

            <!-- validation -->
            <div class="validation-error" *ngIf="date_of_joining.touched&&date_of_joining.invalid" style="color: red;">
                <div *ngIf="date_of_joining.errors?.['required']">Date is invalid or required!</div>
            </div>
        </div>
        <br>
        <!-- role -->
        <div class="form-group">
            <label>Choose Role</label>
            <select name="role" id="role" #role_id="ngModel" class="form-control" required
                [(ngModel)]="service.userEditData.role_id">
                <option value="0" disabled>Choose Role</option>
                <option *ngFor="let role of service.roles" value="{{role.id}}">{{role.role_name}}</option>
            </select>
            <div class="validation-error" *ngIf="role_id.touched && role_id.invalid" style="color: red;">
                <div>Required</div>
            </div>
        </div>
        <br>
        <!-- specialization -->
        <div class="form-group" *ngIf="service.userEditData.role_id == 3">
            <label>Choose Specialization</label>
            <select name="specialization" id="specialization" #specialization_id="ngModel" class="form-control" required
                [(ngModel)]="service.userEditData.specialization_id">
                <option value="0" disabled>Choose Specialization</option>
                <option *ngFor="let spec of service.specializations" value="{{spec.id}}">{{spec.specialization}}
                </option>
            </select>
            <div class="validation-error" *ngIf="specialization_id.touched && specialization_id.invalid"
                style="color: red;">
                <div>Required</div>
            </div>
        </div>
        <br>
        <!-- Fees -->
        <div class="form-group" *ngIf="service.userEditData.role_id == 3">
            <label for="fees">Fees</label>
            <input name="fees" #fees="ngModel" class="form-control" [(ngModel)]="service.userEditData.fees"
                placeholder="Fee here...." min=200 max=500 required
                [ngClass]="{'is-invalid': fees.touched && fees.invalid}" autocomplete="off">

            <div class="validation-error" *ngIf="fees.touched&&fees.invalid" style="color: red;">
                <div *ngIf="fees.errors?.['required']">
                    Consultation Fee is invalid or required!
                </div>
            </div>
        </div>
        <br>

        <div class="form-group">
            <button type="submit" [disabled]="!(form.valid && form.dirty)" class="btn btn-lg btn-primary form-control">
                Submit
            </button>
        </div>
    </form>
</div>